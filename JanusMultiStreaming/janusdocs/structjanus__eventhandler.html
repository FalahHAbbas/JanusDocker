<!-- HTML header for doxygen 1.8.18-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>janus_eventhandler Struct Reference</title>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet">
<link href="css/demo.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="doxy-boot.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<a href="https://github.com/meetecho/janus-gateway"><img style="position: absolute; top: 0; left: 0; border: 0; z-index: 1001;" src="https://s3.amazonaws.com/github/ribbons/forkme_left_darkblue_121621.png" alt="Fork me on GitHub"></a>
<nav class="navbar navbar-default navbar-static-top">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" href=".">Janus</a>
		<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
		</button>
	</div>
	<div class="navbar-collapse collapse">
		<ul class="nav navbar-nav">
			<li><a href="https://janus.conf.meetecho.com/">Home</a></li>
			<li><a href="https://janus.conf.meetecho.com/demos.html">Demos</a></li>
			<li class="active"><a href="index.html">Documentation</a></li>
			<li><a href="https://janus.conf.meetecho.com/citeus.html">Papers</a></li>
			<li><a href="https://janus.conf.meetecho.com/support.html">Need help?</a></li>
			<li><a class="januscon" target="_blank" href="https://januscon.it">JanusCon!</a></li>
		</ul>
		<div class="navbar-header navbar-right">
			<ul class="nav navbar-nav">
				<li><a target="_blank" href="http://www.meetecho.com" class="navbar-link meetecho-logo"><img src="meetecho-logo.png"/></a></li>
			</ul>
		</div>
	</div>
</div>
</nav>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">janus_eventhandler Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The event handler plugin session and callbacks interface.  
 <a href="structjanus__eventhandler.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="eventhandler_8h_source.html">eventhandler.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a888b3bad844b1bb0844bc59c3c21cc3b"><td class="memItemLeft" align="right" valign="top">int(*const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjanus__eventhandler.html#a888b3bad844b1bb0844bc59c3c21cc3b">init</a> )(const char *config_path)</td></tr>
<tr class="memdesc:a888b3bad844b1bb0844bc59c3c21cc3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event handler plugin initialization/constructor.  <a href="#a888b3bad844b1bb0844bc59c3c21cc3b">More...</a><br /></td></tr>
<tr class="separator:a888b3bad844b1bb0844bc59c3c21cc3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ccd5bc83a712f52d42ae10c773419dd"><td class="memItemLeft" align="right" valign="top">void(*const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjanus__eventhandler.html#a0ccd5bc83a712f52d42ae10c773419dd">destroy</a> )(void)</td></tr>
<tr class="memdesc:a0ccd5bc83a712f52d42ae10c773419dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event handler plugin deinitialization/destructor.  <a href="#a0ccd5bc83a712f52d42ae10c773419dd">More...</a><br /></td></tr>
<tr class="separator:a0ccd5bc83a712f52d42ae10c773419dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf93ba4a3c26de59c90f7d25d2b05777"><td class="memItemLeft" align="right" valign="top">int(*const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjanus__eventhandler.html#acf93ba4a3c26de59c90f7d25d2b05777">get_api_compatibility</a> )(void)</td></tr>
<tr class="memdesc:acf93ba4a3c26de59c90f7d25d2b05777"><td class="mdescLeft">&#160;</td><td class="mdescRight">Informative method to request the API version this event handler plugin was compiled against.  <a href="#acf93ba4a3c26de59c90f7d25d2b05777">More...</a><br /></td></tr>
<tr class="separator:acf93ba4a3c26de59c90f7d25d2b05777"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe2e5a790ff793059a91f10631835911"><td class="memItemLeft" align="right" valign="top">int(*const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjanus__eventhandler.html#afe2e5a790ff793059a91f10631835911">get_version</a> )(void)</td></tr>
<tr class="memdesc:afe2e5a790ff793059a91f10631835911"><td class="mdescLeft">&#160;</td><td class="mdescRight">Informative method to request the numeric version of the event handler plugin.  <a href="#afe2e5a790ff793059a91f10631835911">More...</a><br /></td></tr>
<tr class="separator:afe2e5a790ff793059a91f10631835911"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b0b49bf73f1ff79aad3ffbd834d0bc1"><td class="memItemLeft" align="right" valign="top">const char *(*const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjanus__eventhandler.html#a1b0b49bf73f1ff79aad3ffbd834d0bc1">get_version_string</a> )(void)</td></tr>
<tr class="memdesc:a1b0b49bf73f1ff79aad3ffbd834d0bc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Informative method to request the string version of the event handler plugin.  <a href="#a1b0b49bf73f1ff79aad3ffbd834d0bc1">More...</a><br /></td></tr>
<tr class="separator:a1b0b49bf73f1ff79aad3ffbd834d0bc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90e2044532982bbb8ab76ef0ffbf443b"><td class="memItemLeft" align="right" valign="top">const char *(*const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjanus__eventhandler.html#a90e2044532982bbb8ab76ef0ffbf443b">get_description</a> )(void)</td></tr>
<tr class="memdesc:a90e2044532982bbb8ab76ef0ffbf443b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Informative method to request a description of the event handler plugin.  <a href="#a90e2044532982bbb8ab76ef0ffbf443b">More...</a><br /></td></tr>
<tr class="separator:a90e2044532982bbb8ab76ef0ffbf443b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7568ea59647c7c26cc22abed6dc427c2"><td class="memItemLeft" align="right" valign="top">const char *(*const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjanus__eventhandler.html#a7568ea59647c7c26cc22abed6dc427c2">get_name</a> )(void)</td></tr>
<tr class="memdesc:a7568ea59647c7c26cc22abed6dc427c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Informative method to request the name of the event handler plugin.  <a href="#a7568ea59647c7c26cc22abed6dc427c2">More...</a><br /></td></tr>
<tr class="separator:a7568ea59647c7c26cc22abed6dc427c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a352df7267f839a18b560ee2c0245fb13"><td class="memItemLeft" align="right" valign="top">const char *(*const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjanus__eventhandler.html#a352df7267f839a18b560ee2c0245fb13">get_author</a> )(void)</td></tr>
<tr class="memdesc:a352df7267f839a18b560ee2c0245fb13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Informative method to request the author of the event handler plugin.  <a href="#a352df7267f839a18b560ee2c0245fb13">More...</a><br /></td></tr>
<tr class="separator:a352df7267f839a18b560ee2c0245fb13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b046cc63af1b6a5281f5e489b6ac912"><td class="memItemLeft" align="right" valign="top">const char *(*const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjanus__eventhandler.html#a3b046cc63af1b6a5281f5e489b6ac912">get_package</a> )(void)</td></tr>
<tr class="memdesc:a3b046cc63af1b6a5281f5e489b6ac912"><td class="mdescLeft">&#160;</td><td class="mdescRight">Informative method to request the package name of the event handler plugin (what will be used in web applications to refer to it)  <a href="#a3b046cc63af1b6a5281f5e489b6ac912">More...</a><br /></td></tr>
<tr class="separator:a3b046cc63af1b6a5281f5e489b6ac912"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad90230dbd685df91420638f5eae306a4"><td class="memItemLeft" align="right" valign="top">void(*const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjanus__eventhandler.html#ad90230dbd685df91420638f5eae306a4">incoming_event</a> )(<a class="el" href="plugin_8h.html#a099508f18c5c127f2eb6a967909bf15d">json_t</a> *event)</td></tr>
<tr class="memdesc:ad90230dbd685df91420638f5eae306a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to notify the event handler plugin that a new event is available.  <a href="#ad90230dbd685df91420638f5eae306a4">More...</a><br /></td></tr>
<tr class="separator:ad90230dbd685df91420638f5eae306a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae922cb24fe9701db17102702937a148b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="plugin_8h.html#a099508f18c5c127f2eb6a967909bf15d">json_t</a> *(*const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjanus__eventhandler.html#ae922cb24fe9701db17102702937a148b">handle_request</a> )(<a class="el" href="plugin_8h.html#a099508f18c5c127f2eb6a967909bf15d">json_t</a> *request)</td></tr>
<tr class="memdesc:ae922cb24fe9701db17102702937a148b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to send a request to this specific event handler plugin.  <a href="#ae922cb24fe9701db17102702937a148b">More...</a><br /></td></tr>
<tr class="separator:ae922cb24fe9701db17102702937a148b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10eee73ac6d2ca5d9a66fd2e2b149f66"><td class="memItemLeft" align="right" valign="top"><a class="el" href="utils_8h.html#a06718175e2fc7c743eb4e262257bce1f">janus_flags</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjanus__eventhandler.html#a10eee73ac6d2ca5d9a66fd2e2b149f66">events_mask</a></td></tr>
<tr class="memdesc:a10eee73ac6d2ca5d9a66fd2e2b149f66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mask of events this handler is interested in, as a janus_flags object.  <a href="#a10eee73ac6d2ca5d9a66fd2e2b149f66">More...</a><br /></td></tr>
<tr class="separator:a10eee73ac6d2ca5d9a66fd2e2b149f66"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The event handler plugin session and callbacks interface. </p>
</div><h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="a0ccd5bc83a712f52d42ae10c773419dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* const janus_eventhandler::destroy) (void)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Event handler plugin deinitialization/destructor. </p>

</div>
</div>
<a class="anchor" id="a10eee73ac6d2ca5d9a66fd2e2b149f66"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="utils_8h.html#a06718175e2fc7c743eb4e262257bce1f">janus_flags</a> janus_eventhandler::events_mask</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mask of events this handler is interested in, as a janus_flags object. </p>

</div>
</div>
<a class="anchor" id="acf93ba4a3c26de59c90f7d25d2b05777"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* const janus_eventhandler::get_api_compatibility) (void)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Informative method to request the API version this event handler plugin was compiled against. </p>
<dl class="section note"><dt>Note</dt><dd>All event handler plugins MUST implement this method and return JANUS_EVENTHANDLER_API_VERSION to make this work, or they will be rejected by the core. </dd></dl>

</div>
</div>
<a class="anchor" id="a352df7267f839a18b560ee2c0245fb13"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char*(* const janus_eventhandler::get_author) (void)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Informative method to request the author of the event handler plugin. </p>

</div>
</div>
<a class="anchor" id="a90e2044532982bbb8ab76ef0ffbf443b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char*(* const janus_eventhandler::get_description) (void)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Informative method to request a description of the event handler plugin. </p>

</div>
</div>
<a class="anchor" id="a7568ea59647c7c26cc22abed6dc427c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char*(* const janus_eventhandler::get_name) (void)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Informative method to request the name of the event handler plugin. </p>

</div>
</div>
<a class="anchor" id="a3b046cc63af1b6a5281f5e489b6ac912"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char*(* const janus_eventhandler::get_package) (void)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Informative method to request the package name of the event handler plugin (what will be used in web applications to refer to it) </p>

</div>
</div>
<a class="anchor" id="afe2e5a790ff793059a91f10631835911"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* const janus_eventhandler::get_version) (void)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Informative method to request the numeric version of the event handler plugin. </p>

</div>
</div>
<a class="anchor" id="a1b0b49bf73f1ff79aad3ffbd834d0bc1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char*(* const janus_eventhandler::get_version_string) (void)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Informative method to request the string version of the event handler plugin. </p>

</div>
</div>
<a class="anchor" id="ae922cb24fe9701db17102702937a148b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="plugin_8h.html#a099508f18c5c127f2eb6a967909bf15d">json_t</a>*(* const janus_eventhandler::handle_request) (<a class="el" href="plugin_8h.html#a099508f18c5c127f2eb6a967909bf15d">json_t</a> *request)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to send a request to this specific event handler plugin. </p>
<p>The method takes a Jansson json_t, that contains all the info related to the request. This object will come from an Admin API request, and is meant to represent a synchronous request. Since each handler can have its own bells and whistles, there's no constraint on what this object should contain, which is entirely handler specific. A json_t object needs to be returned as a response, which will be sent in response to the Admin API call. This can be useful to tweak settings in real-time, or to probe the internals of the handler plugin for monitoring purposes. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>Jansson object containing the request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A Jansson object containing the response for the client </dd></dl>

</div>
</div>
<a class="anchor" id="ad90230dbd685df91420638f5eae306a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* const janus_eventhandler::incoming_event) (<a class="el" href="plugin_8h.html#a099508f18c5c127f2eb6a967909bf15d">json_t</a> *event)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to notify the event handler plugin that a new event is available. </p>
<p>All events are notified as a Jansson json_t object, and the syntax of the associated JSON document is as follows: </p><pre class="fragment">{
        "type" : &lt;numeric event type identifier&gt;,
        "timestamp" : &lt;monotonic time of when the event was generated&gt;,
        "session_id" : &lt;unique session identifier&gt;,
        "handle_id" : &lt;unique handle identifier, if provided/available&gt;,
        "event" : {
                &lt;event body, custom depending on event type&gt;
        }
}
 * </pre> <dl class="section note"><dt>Note</dt><dd>Do NOT handle the event directly in this method. Janus sends events from its working threads, and so you'd most likely end up slowing it down. Just take note of it and handle it somewhere else. It's your responsibility to <code>json_decref</code> the event object once you're done with it: a failure to do so will result in memory leaks. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">event</td><td>Jansson object containing the event details </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a888b3bad844b1bb0844bc59c3c21cc3b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* const janus_eventhandler::init) (const char *config_path)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Event handler plugin initialization/constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">config_path</td><td>Path of the folder where the configuration for this event handler plugin can be found </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 in case of success, a negative integer in case of error </dd></dl>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="eventhandler_8h_source.html">eventhandler.h</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.18-->
<!-- start footer part -->
<div class="footer container">
<hr class="footer"/>
Last updated on Fri Apr 9 2021 &mdash; Janus WebRTC Server &copy; <a target="_blank" href="http://www.meetecho.com/">Meetecho</a> 2014-2021
</div>
</body>
</html>
