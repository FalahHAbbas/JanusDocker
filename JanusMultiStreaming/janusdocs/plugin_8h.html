<!-- HTML header for doxygen 1.8.18-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>plugin.h File Reference</title>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet">
<link href="css/demo.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="doxy-boot.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<a href="https://github.com/meetecho/janus-gateway"><img style="position: absolute; top: 0; left: 0; border: 0; z-index: 1001;" src="https://s3.amazonaws.com/github/ribbons/forkme_left_darkblue_121621.png" alt="Fork me on GitHub"></a>
<nav class="navbar navbar-default navbar-static-top">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" href=".">Janus</a>
		<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
		</button>
	</div>
	<div class="navbar-collapse collapse">
		<ul class="nav navbar-nav">
			<li><a href="https://janus.conf.meetecho.com/">Home</a></li>
			<li><a href="https://janus.conf.meetecho.com/demos.html">Demos</a></li>
			<li class="active"><a href="index.html">Documentation</a></li>
			<li><a href="https://janus.conf.meetecho.com/citeus.html">Papers</a></li>
			<li><a href="https://janus.conf.meetecho.com/support.html">Need help?</a></li>
			<li><a class="januscon" target="_blank" href="https://januscon.it">JanusCon!</a></li>
		</ul>
		<div class="navbar-header navbar-right">
			<ul class="nav navbar-nav">
				<li><a target="_blank" href="http://www.meetecho.com" class="navbar-link meetecho-logo"><img src="meetecho-logo.png"/></a></li>
			</ul>
		</div>
	</div>
</div>
</nav>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_38c8d24aef3972a7f87b834274e76e31.html">plugins</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a>  </div>
  <div class="headertitle">
<div class="title">plugin.h File Reference<div class="ingroups"><a class="el" href="group__plugins.html">Plugins</a> &raquo; <a class="el" href="group__pluginapi.html">Plugin API</a><a class="el" href="group__plugins.html">Plugins</a> &raquo;  &#124; <a class="el" href="group__pluginapi.html">Plugin API</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Plugin-Core communication (implementation)  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;ctype.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;inttypes.h&gt;</code><br />
<code>#include &lt;glib.h&gt;</code><br />
<code>#include &quot;<a class="el" href="refcount_8h_source.html">refcount.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for plugin.h:</div>
<div class="dyncontent">
<div class="center"><img src="plugin_8h__incl.png" border="0" usemap="#plugin_8h" alt=""/></div>
<map name="plugin_8h" id="plugin_8h">
<area shape="rect" id="node10" href="refcount_8h.html" title="Reference counter mechanism. " alt="" coords="394,80,482,107"/>
<area shape="rect" id="node11" href="mutex_8h.html" title="Semaphors, Mutexes and Conditions. " alt="" coords="400,155,476,181"/>
<area shape="rect" id="node14" href="debug_8h.html" title="Logging and Debugging. " alt="" coords="297,229,371,256"/>
<area shape="rect" id="node16" href="log_8h.html" title="Buffered logging (headers) " alt="" coords="297,304,352,331"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="plugin_8h__dep__incl.png" border="0" usemap="#plugin_8hdep" alt=""/></div>
<map name="plugin_8hdep" id="plugin_8hdep">
<area shape="rect" id="node2" href="auth_8h.html" title="Requests authentication (headers) " alt="" coords="75,80,137,107"/>
<area shape="rect" id="node5" href="ice_8h.html" title="Janus handles and ICE/STUN/TURN processing (headers) " alt="" coords="229,80,282,107"/>
<area shape="rect" id="node7" href="janus_8h.html" title="Janus core (headers) " alt="" coords="151,155,221,181"/>
<area shape="rect" id="node11" href="janus__audiobridge_8c.html" title="Janus AudioBridge plugin. " alt="" coords="306,80,458,107"/>
<area shape="rect" id="node12" href="janus__duktape__data_8h.html" title="Janus Duktape data/session definition (headers) " alt="" coords="482,80,647,107"/>
<area shape="rect" id="node15" href="janus__echotest_8c.html" title="Janus EchoTest plugin. " alt="" coords="671,80,802,107"/>
<area shape="rect" id="node16" href="janus__lua__data_8h.html" title="Janus Lua data/session definition (headers) " alt="" coords="827,80,959,107"/>
<area shape="rect" id="node19" href="janus__nosip_8c.html" title="Janus NoSIP plugin. " alt="" coords="983,80,1093,107"/>
<area shape="rect" id="node20" href="janus__recordplay_8c.html" title="Janus Record&amp;Play plugin. " alt="" coords="1117,80,1260,107"/>
<area shape="rect" id="node21" href="janus__sip_8c.html" title="Janus SIP plugin. " alt="" coords="1284,80,1379,107"/>
<area shape="rect" id="node22" href="janus__streaming_8c.html" title="Janus Streaming plugin. " alt="" coords="1403,80,1545,107"/>
<area shape="rect" id="node23" href="janus__textroom_8c.html" title="Janus TextRoom plugin. " alt="" coords="1569,80,1704,107"/>
<area shape="rect" id="node24" href="janus__videocall_8c.html" title="Janus VideoCall plugin. " alt="" coords="1728,80,1863,107"/>
<area shape="rect" id="node25" href="janus__videoroom_8c.html" title="Janus VideoRoom plugin. " alt="" coords="1887,80,2032,107"/>
<area shape="rect" id="node26" href="janus__voicemail_8c.html" title="Janus VoiceMail plugin. " alt="" coords="2057,80,2195,107"/>
<area shape="rect" id="node27" href="plugin_8c.html" title="plugin.c" alt="" coords="2220,80,2293,107"/>
<area shape="rect" id="node3" href="auth_8c.html" title="Requests authentication. " alt="" coords="5,155,68,181"/>
<area shape="rect" id="node4" href="janus_8c.html" title="Janus core. " alt="" coords="65,229,133,256"/>
<area shape="rect" id="node6" href="dtls-bio_8c.html" title="dtls&#45;bio.c" alt="" coords="295,155,378,181"/>
<area shape="rect" id="node9" href="ice_8c.html" title="Janus handles and ICE/STUN/TURN processing. " alt="" coords="239,229,291,256"/>
<area shape="rect" id="node10" href="sdp_8c.html" title="SDP processing. " alt="" coords="351,229,407,256"/>
<area shape="rect" id="node8" href="dtls_8c.html" title="DTLS/SRTP processing. " alt="" coords="157,229,215,256"/>
<area shape="rect" id="node13" href="janus__duktape_8c.html" title="Janus JavaScript plugin (via Duktape) " alt="" coords="466,155,594,181"/>
<area shape="rect" id="node14" href="janus__duktape__extra_8c.html" title="Janus Duktape plugin extra hooks. " alt="" coords="619,155,788,181"/>
<area shape="rect" id="node17" href="janus__lua_8c.html" title="Janus Lua plugin. " alt="" coords="832,155,927,181"/>
<area shape="rect" id="node18" href="janus__lua__extra_8c.html" title="Janus Lua plugin extra hooks. " alt="" coords="951,155,1087,181"/>
</map>
</div>
</div>
<p><a href="plugin_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjanus__plugin__session.html">janus_plugin_session</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Plugin-Gateway session mapping.  <a href="structjanus__plugin__session.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjanus__plugin.html">janus_plugin</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The plugin session and callbacks interface.  <a href="structjanus__plugin.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjanus__callbacks.html">janus_callbacks</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callbacks to contact the Janus core.  <a href="structjanus__callbacks.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjanus__plugin__result.html">janus_plugin_result</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Janus plugin result.  <a href="structjanus__plugin__result.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjanus__plugin__rtp__extensions.html">janus_plugin_rtp_extensions</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Janus plugin RTP extensions.  <a href="structjanus__plugin__rtp__extensions.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjanus__plugin__rtp.html">janus_plugin_rtp</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Janus plugin RTP packet.  <a href="structjanus__plugin__rtp.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjanus__plugin__rtcp.html">janus_plugin_rtcp</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Janus plugin RTCP packet.  <a href="structjanus__plugin__rtcp.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjanus__plugin__data.html">janus_plugin_data</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Janus plugin data message.  <a href="structjanus__plugin__data.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ac6a2601ba3907da5f78652dbd7e7b9d0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin_8h.html#ac6a2601ba3907da5f78652dbd7e7b9d0">JANUS_PLUGIN_API_VERSION</a>&#160;&#160;&#160;15</td></tr>
<tr class="memdesc:ac6a2601ba3907da5f78652dbd7e7b9d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Version of the API, to match the one plugins were compiled against.  <a href="#ac6a2601ba3907da5f78652dbd7e7b9d0">More...</a><br /></td></tr>
<tr class="separator:ac6a2601ba3907da5f78652dbd7e7b9d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0db773f59a486ac2151e3068165be121"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin_8h.html#a0db773f59a486ac2151e3068165be121">JANUS_PLUGIN_INIT</a>(...)</td></tr>
<tr class="memdesc:a0db773f59a486ac2151e3068165be121"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialization of all plugin properties to NULL.  <a href="#a0db773f59a486ac2151e3068165be121">More...</a><br /></td></tr>
<tr class="separator:a0db773f59a486ac2151e3068165be121"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a74738818975d50c1662d1c2bc2fed3c6"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structjanus__callbacks.html">janus_callbacks</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin_8h.html#a74738818975d50c1662d1c2bc2fed3c6">janus_callbacks</a></td></tr>
<tr class="memdesc:a74738818975d50c1662d1c2bc2fed3c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callbacks to contact the Janus core.  <a href="#a74738818975d50c1662d1c2bc2fed3c6">More...</a><br /></td></tr>
<tr class="separator:a74738818975d50c1662d1c2bc2fed3c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c27e3019d47bb7c02ea862bf1c9d069"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structjanus__plugin.html">janus_plugin</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin_8h.html#a0c27e3019d47bb7c02ea862bf1c9d069">janus_plugin</a></td></tr>
<tr class="memdesc:a0c27e3019d47bb7c02ea862bf1c9d069"><td class="mdescLeft">&#160;</td><td class="mdescRight">The plugin session and callbacks interface.  <a href="#a0c27e3019d47bb7c02ea862bf1c9d069">More...</a><br /></td></tr>
<tr class="separator:a0c27e3019d47bb7c02ea862bf1c9d069"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d389531571f30699087a98ea2c99005"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structjanus__plugin__session.html">janus_plugin_session</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin_8h.html#a8d389531571f30699087a98ea2c99005">janus_plugin_session</a></td></tr>
<tr class="memdesc:a8d389531571f30699087a98ea2c99005"><td class="mdescLeft">&#160;</td><td class="mdescRight">Plugin-Gateway session mapping.  <a href="#a8d389531571f30699087a98ea2c99005">More...</a><br /></td></tr>
<tr class="separator:a8d389531571f30699087a98ea2c99005"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f376b8e7a8b63d7853619fb037f8ba3"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structjanus__plugin__result.html">janus_plugin_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin_8h.html#a5f376b8e7a8b63d7853619fb037f8ba3">janus_plugin_result</a></td></tr>
<tr class="memdesc:a5f376b8e7a8b63d7853619fb037f8ba3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Result of individual requests passed to plugins.  <a href="#a5f376b8e7a8b63d7853619fb037f8ba3">More...</a><br /></td></tr>
<tr class="separator:a5f376b8e7a8b63d7853619fb037f8ba3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab474c0ee5bd0ea9430093bb78aab6e25"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structjanus__plugin__rtp.html">janus_plugin_rtp</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin_8h.html#ab474c0ee5bd0ea9430093bb78aab6e25">janus_plugin_rtp</a></td></tr>
<tr class="memdesc:ab474c0ee5bd0ea9430093bb78aab6e25"><td class="mdescLeft">&#160;</td><td class="mdescRight">RTP packet exchanged with the core.  <a href="#ab474c0ee5bd0ea9430093bb78aab6e25">More...</a><br /></td></tr>
<tr class="separator:ab474c0ee5bd0ea9430093bb78aab6e25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1ebb1c4fb45267db5f3639308889483"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structjanus__plugin__rtp__extensions.html">janus_plugin_rtp_extensions</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin_8h.html#ac1ebb1c4fb45267db5f3639308889483">janus_plugin_rtp_extensions</a></td></tr>
<tr class="memdesc:ac1ebb1c4fb45267db5f3639308889483"><td class="mdescLeft">&#160;</td><td class="mdescRight">RTP extensions parsed in an RTP packet.  <a href="#ac1ebb1c4fb45267db5f3639308889483">More...</a><br /></td></tr>
<tr class="separator:ac1ebb1c4fb45267db5f3639308889483"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46897d1110b98b8ba797f363c0e1aa0b"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structjanus__plugin__rtcp.html">janus_plugin_rtcp</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin_8h.html#a46897d1110b98b8ba797f363c0e1aa0b">janus_plugin_rtcp</a></td></tr>
<tr class="memdesc:a46897d1110b98b8ba797f363c0e1aa0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">RTCP message exchanged with the core.  <a href="#a46897d1110b98b8ba797f363c0e1aa0b">More...</a><br /></td></tr>
<tr class="separator:a46897d1110b98b8ba797f363c0e1aa0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a025c4e972300c7f371540b8de7cc84c7"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structjanus__plugin__data.html">janus_plugin_data</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin_8h.html#a025c4e972300c7f371540b8de7cc84c7">janus_plugin_data</a></td></tr>
<tr class="memdesc:a025c4e972300c7f371540b8de7cc84c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data message exchanged with the core.  <a href="#a025c4e972300c7f371540b8de7cc84c7">More...</a><br /></td></tr>
<tr class="separator:a025c4e972300c7f371540b8de7cc84c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a099508f18c5c127f2eb6a967909bf15d"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="plugin_8h.html#a099508f18c5c127f2eb6a967909bf15d">json_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin_8h.html#a099508f18c5c127f2eb6a967909bf15d">json_t</a></td></tr>
<tr class="separator:a099508f18c5c127f2eb6a967909bf15d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab677912829fa22c9dcbc481c5d6686f2"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="structjanus__plugin.html">janus_plugin</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin_8h.html#ab677912829fa22c9dcbc481c5d6686f2">create_p</a>(void)</td></tr>
<tr class="memdesc:ab677912829fa22c9dcbc481c5d6686f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The hook that plugins need to implement to be created from the Janus core.  <a href="#ab677912829fa22c9dcbc481c5d6686f2">More...</a><br /></td></tr>
<tr class="separator:ab677912829fa22c9dcbc481c5d6686f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Janus plugin media packets</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>The Janus core and plugins exchange different kind of media packets, specifically RTP packets, RTCP messages and datachannel data. While previously these were exchanged between core and plugins using generic pointers and their length, Janus now uses a dedicated structure for each of them: this allows metadata and other info to be carried along the media data itself, making the exchange process extensible as a result (the signature remains the same, the data contained in the struct can change).</p>
<p>The <a class="el" href="structjanus__plugin__rtp.html" title="Janus plugin RTP packet. ">janus_plugin_rtp</a> structure represents an RTP packet. When creating a new packet, it should be initialized with janus_plugin_rtp_init. Besides the data and its length, it also contains info on whether the packet is audio or video, and a list of the parsed RTP extensions provided in an instance of the <a class="el" href="structjanus__plugin__rtp__extensions.html" title="Janus plugin RTP extensions. ">janus_plugin_rtp_extensions</a> structure. Notice that, while this list of extensions is mostly a commodity when receiving a packet, making it easier to access their values (the RTP extensions will still be part of the incoming RTP packet, so plugins are still free to parse them manually), they're very important when it comes to outgoing packets instead: in fact, since the Janus core may needs to terminate its own extensions with the peer, all RTP extensions that are in an RTP packet sent by a plugin are stripped when relay_rtp is called. This means that any attempt to inject an RTP extension in an outgoing packet will fail if the RTP extension is added to the payload manually, and will need to be set in the <a class="el" href="structjanus__plugin__rtp__extensions.html" title="Janus plugin RTP extensions. ">janus_plugin_rtp_extensions</a> structure instead. It's also important to initialize the extensions structure before passing the packet to the core, as for each extension there may be a different way of telling the core whether the extension needs to be added or not (e.f., <code>-1</code> instead of <code>0</code> or <code>NULL</code> ) . If the RTP extension management you need is not supported, it must be added to the core to get it working.</p>
<p>The <a class="el" href="structjanus__plugin__rtcp.html" title="Janus plugin RTCP packet. ">janus_plugin_rtcp</a>, instead, represents an RTCP packet, which may contain one or more RTCP compound messages. The only info it contains are whether it's related to the audio or video stream, and a pointer to the data itself and its length. When creating a new packet, it should be initialized with janus_plugin_rtcp_init. To make the generation of some of the most common RTCP messages easier, a few helper core callbacks are provided: this means that, while you can craft RTCP messages yourself using the methods available in <a class="el" href="rtcp_8h.html" title="RTCP processing (headers) ">rtcp.h</a>, it might be easier to send, e.g., a keyframe request using the dedicated method, which will leave the RTCP crafting process up tp the core.</p>
<p>Finally, the <a class="el" href="structjanus__plugin__data.html" title="Janus plugin data message. ">janus_plugin_data</a> represents a datachannel message. The only info it contains are the label the message came from, a pointer to the data itself and its length. When creating a new packet, it MUST be initialized with janus_plugin_data_init. </p>
</div></td></tr>
<tr class="memitem:a3c6d2db42190ba084af632a1262029e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin_8h.html#a3c6d2db42190ba084af632a1262029e6">janus_plugin_rtp_extensions_reset</a> (<a class="el" href="structjanus__plugin__rtp__extensions.html">janus_plugin_rtp_extensions</a> *extensions)</td></tr>
<tr class="memdesc:a3c6d2db42190ba084af632a1262029e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to initialise/reset the RTP extensions field.  <a href="#a3c6d2db42190ba084af632a1262029e6">More...</a><br /></td></tr>
<tr class="separator:a3c6d2db42190ba084af632a1262029e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52612a46c528ff1e760b1f0d20509ddc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin_8h.html#a52612a46c528ff1e760b1f0d20509ddc">janus_plugin_rtp_reset</a> (<a class="el" href="structjanus__plugin__rtp.html">janus_plugin_rtp</a> *packet)</td></tr>
<tr class="memdesc:a52612a46c528ff1e760b1f0d20509ddc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to initialise/reset the RTP packet.  <a href="#a52612a46c528ff1e760b1f0d20509ddc">More...</a><br /></td></tr>
<tr class="separator:a52612a46c528ff1e760b1f0d20509ddc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9eb0a20643f15c4fb5518149419eb570"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin_8h.html#a9eb0a20643f15c4fb5518149419eb570">janus_plugin_rtcp_reset</a> (<a class="el" href="structjanus__plugin__rtcp.html">janus_plugin_rtcp</a> *packet)</td></tr>
<tr class="memdesc:a9eb0a20643f15c4fb5518149419eb570"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to initialise/reset the RTCP packet.  <a href="#a9eb0a20643f15c4fb5518149419eb570">More...</a><br /></td></tr>
<tr class="separator:a9eb0a20643f15c4fb5518149419eb570"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64b7b99d23d3a160298c15289a240452"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin_8h.html#a64b7b99d23d3a160298c15289a240452">janus_plugin_data_reset</a> (<a class="el" href="structjanus__plugin__data.html">janus_plugin_data</a> *packet)</td></tr>
<tr class="memdesc:a64b7b99d23d3a160298c15289a240452"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to initialise/reset the data message.  <a href="#a64b7b99d23d3a160298c15289a240452">More...</a><br /></td></tr>
<tr class="separator:a64b7b99d23d3a160298c15289a240452"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Janus plugin results</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpf2a7755e2ebc9e57478ef592dad9f81d"></a>When a client sends a message to a plugin (e.g., a request or a command) this is notified to the plugin through a handle_message() callback. The plugin can then either handle the request immediately and provide a response (synchronous approach) or decide to queue it and process it later (asynchronous approach). In both cases the plugin must return a <a class="el" href="structjanus__plugin__result.html" title="Janus plugin result. ">janus_plugin_result</a> instance to the core, that will allow the client to: 1. know whether a response is immediately available or it will be later on through notifications, and 2. what the actual content of the result might be. Of course, notifications related to the transaction may occur later on even for synchronous requests, if the plugin was implemented with use cases that envisage this approach.</p>
<dl class="section note"><dt>Note</dt><dd>An error may be returned as well, but this would cause a core-level error to be returned to the client. If you want to provide indications about a failed operation for application-level reason, the correct approach is to return a success with a plugin-specific payload describing the error. </dd></dl>
</td></tr>
<tr class="memitem:a3997c3821757ba9ef65221b73506b379"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin_8h.html#a3997c3821757ba9ef65221b73506b379">janus_plugin_result_type</a> { <a class="el" href="plugin_8h.html#a3997c3821757ba9ef65221b73506b379a5d1eb75a934e7e3d798149e61fdade4d">JANUS_PLUGIN_ERROR</a> = -1, 
<a class="el" href="plugin_8h.html#a3997c3821757ba9ef65221b73506b379ace0399106af5c66c55e214cfb5b5fef7">JANUS_PLUGIN_OK</a>, 
<a class="el" href="plugin_8h.html#a3997c3821757ba9ef65221b73506b379a135fc52313eba9f996e0aae7d811315f">JANUS_PLUGIN_OK_WAIT</a>
 }<tr class="memdesc:a3997c3821757ba9ef65221b73506b379"><td class="mdescLeft">&#160;</td><td class="mdescRight">Result types.  <a href="plugin_8h.html#a3997c3821757ba9ef65221b73506b379">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a3997c3821757ba9ef65221b73506b379"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04c21f4812a591fe6d43e607e73c2c78"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="plugin_8h.html#a3997c3821757ba9ef65221b73506b379">janus_plugin_result_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin_8h.html#a04c21f4812a591fe6d43e607e73c2c78">janus_plugin_result_type</a></td></tr>
<tr class="memdesc:a04c21f4812a591fe6d43e607e73c2c78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Result types.  <a href="#a04c21f4812a591fe6d43e607e73c2c78">More...</a><br /></td></tr>
<tr class="separator:a04c21f4812a591fe6d43e607e73c2c78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67bbe5f789bac9b4d190ad5d85099c44"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structjanus__plugin__result.html">janus_plugin_result</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin_8h.html#a67bbe5f789bac9b4d190ad5d85099c44">janus_plugin_result_new</a> (<a class="el" href="plugin_8h.html#a3997c3821757ba9ef65221b73506b379">janus_plugin_result_type</a> type, const char *text, <a class="el" href="plugin_8h.html#a099508f18c5c127f2eb6a967909bf15d">json_t</a> *content)</td></tr>
<tr class="memdesc:a67bbe5f789bac9b4d190ad5d85099c44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper to quickly create a <a class="el" href="structjanus__plugin__result.html" title="Janus plugin result. ">janus_plugin_result</a> instance.  <a href="#a67bbe5f789bac9b4d190ad5d85099c44">More...</a><br /></td></tr>
<tr class="separator:a67bbe5f789bac9b4d190ad5d85099c44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac21eb77a812c5d21c3a726c80228d8ce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin_8h.html#ac21eb77a812c5d21c3a726c80228d8ce">janus_plugin_result_destroy</a> (<a class="el" href="structjanus__plugin__result.html">janus_plugin_result</a> *result)</td></tr>
<tr class="memdesc:ac21eb77a812c5d21c3a726c80228d8ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper to quickly destroy a <a class="el" href="structjanus__plugin__result.html" title="Janus plugin result. ">janus_plugin_result</a> instance.  <a href="#ac21eb77a812c5d21c3a726c80228d8ce">More...</a><br /></td></tr>
<tr class="separator:ac21eb77a812c5d21c3a726c80228d8ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Plugin-Core communication (implementation) </p>
<p>Plugin-Core communication.</p>
<dl class="section author"><dt>Author</dt><dd>Lorenzo Miniero <a href="#" onclick="location.href='mai'+'lto:'+'lor'+'en'+'zo@'+'me'+'ete'+'ch'+'o.c'+'om'; return false;">loren<span style="display: none;">.nosp@m.</span>zo@m<span style="display: none;">.nosp@m.</span>eetec<span style="display: none;">.nosp@m.</span>ho.c<span style="display: none;">.nosp@m.</span>om</a> </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>GNU General Public License v3</dd></dl>
<p>Implementation of the <a class="el" href="structjanus__plugin__result.html" title="Janus plugin result. ">janus_plugin_result</a> stuff: all the important things related to the actual plugin API is in <a class="el" href="plugin_8h.html" title="Plugin-Core communication (implementation) ">plugin.h</a>.</p>
<p><a class="el" href="group__pluginapi.html">Plugin API</a></p>
<dl class="section author"><dt>Author</dt><dd>Lorenzo Miniero <a href="#" onclick="location.href='mai'+'lto:'+'lor'+'en'+'zo@'+'me'+'ete'+'ch'+'o.c'+'om'; return false;">loren<span style="display: none;">.nosp@m.</span>zo@m<span style="display: none;">.nosp@m.</span>eetec<span style="display: none;">.nosp@m.</span>ho.c<span style="display: none;">.nosp@m.</span>om</a> </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>GNU General Public License v3</dd></dl>
<p>This header contains the definition of the callbacks both the Janus core and all the plugins need to implement to interact with each other. The structures to make the communication possible are defined here as well.</p>
<p>In particular, the Janus core implements the <code><a class="el" href="structjanus__callbacks.html" title="Callbacks to contact the Janus core. ">janus_callbacks</a></code> interface. This means that, as a plugin, you can use the methods it exposes to contact the core, e.g., in order to have it relay a message, event or RTP/RTCP packet to the peer you're handling. In particular, the methods the core exposes to plugins are:</p>
<ul>
<li><code>push_event()</code>: to send a JSON message/event to the peer (with or without an attached JSEP formatted SDP to negotiate a WebRTC PeerConnection); the syntax of the message/event is completely up to you, the only important thing is that it MUST be a JSON object, as it will be included as such within the Janus session/handle protocol;</li>
<li><code>relay_rtp()</code>: to send/relay the peer an RTP packet;</li>
<li><code>relay_rtcp()</code>: to send/relay the peer an RTCP message.</li>
<li><code>relay_data()</code>: to send/relay the peer a SCTP DataChannel message.</li>
</ul>
<p>On the other hand, a plugin that wants to register at the Janus core needs to implement the <code><a class="el" href="structjanus__plugin.html" title="The plugin session and callbacks interface. ">janus_plugin</a></code> interface. Besides, as a plugin is a shared object, and as such external to the core itself, in order to be dynamically loaded at startup it needs to implement the <code><a class="el" href="plugin_8h.html#ab677912829fa22c9dcbc481c5d6686f2" title="The hook that plugins need to implement to be created from the Janus core. ">create_p()</a></code> hook as well, that should return a pointer to the plugin instance. This is an example of such a step:</p>
<pre class="fragment">static janus_plugin myplugin = {
        [..]
};

janus_plugin *create(void) {
        JANUS_LOG(LOG_VERB, , "%s created!\n", MY_PLUGIN_NAME);
        return &amp;myplugin;
}
</pre><p>This will make sure that your plugin is loaded at startup by the Janus core, if it is deployed in the proper folder.</p>
<p>As anticipated and described in the above example, a plugin must basically be an instance of the <code><a class="el" href="structjanus__plugin.html" title="The plugin session and callbacks interface. ">janus_plugin</a></code> type. As such, it must implement the following methods and callbacks for the core:</p>
<ul>
<li><code>init()</code>: this is called by the Janus core as soon as your plugin is started; this is where you should setup your plugin (e.g., static stuff and reading the configuration file);</li>
<li><code>destroy()</code>: on the other hand, this is called by the core when it is shutting down, and your plugin should too;</li>
<li><code>get_api_compatibility()</code>: this method MUST return JANUS_PLUGIN_API_VERSION;</li>
<li><code>get_version()</code>: this method should return a numeric version identifier (e.g., 3);</li>
<li><code>get_version_string()</code>: this method should return a verbose version identifier (e.g., "v1.0.1");</li>
<li><code>get_description()</code>: this method should return a verbose description of your plugin (e.g., "This is my awesome plugin that does this and that");</li>
<li><code>get_name()</code>: this method should return a short display name for your plugin (e.g., "My Awesome Plugin");</li>
<li><code>get_package()</code>: this method should return a unique package identifier for your plugin (e.g., "janus.plugin.myplugin");</li>
<li><code>create_session()</code>: this method is called by the core to create a session between you and a peer;</li>
<li><code>handle_message()</code>: a callback to notify you the peer sent you a message/request;</li>
<li><code>handle_admin_message()</code>: a callback to notify you a message/request came from the Admin API;</li>
<li><code>setup_media()</code>: a callback to notify you the peer PeerConnection is now ready to be used;</li>
<li><code>incoming_rtp()</code>: a callback to notify you a peer has sent you a RTP packet;</li>
<li><code>incoming_rtcp()</code>: a callback to notify you a peer has sent you a RTCP message;</li>
<li><code>incoming_data()</code>: a callback to notify you a peer has sent you a message on a SCTP DataChannel;</li>
<li><code>data_ready()</code>: a callback to notify you data can be sent on the SCTP DataChannel;</li>
<li><code>slow_link()</code>: a callback to notify you Janus or the peer have lost packets recently, and the media path may be slow;</li>
<li><code>hangup_media()</code>: a callback to notify you the peer PeerConnection has been closed (e.g., after a DTLS alert);</li>
<li><code>query_session()</code>: this method is called by the core to get plugin-specific info on a session between you and a peer;</li>
<li><code>destroy_session()</code>: this method is called by the core to destroy a session between you and a peer.</li>
</ul>
<p>All the above methods and callbacks, except for <code>incoming_rtp</code> , <code>incoming_rtcp</code> , <code>incoming_data</code> and <code>slow_link</code> , are mandatory: the Janus core will reject a plugin that doesn't implement any of the mandatory callbacks. The previously mentioned ones, instead, are optional, so you're free to implement only those you care about. If your plugin will not handle any data channel, for instance, it makes sense to not implement the <code>incoming_data</code> callback at all. At the same time, if your plugin is ONLY going to use data channels and can't care less about RTP or RTCP, <code>incoming_rtp</code> and <code>incoming_rtcp</code> can be left out. Finally, <code>slow_link</code> is just there as a helper, some additional information you may be interested about, but you're not forced to receive it if you don't care.</p>
<p>The Janus core <code><a class="el" href="structjanus__callbacks.html" title="Callbacks to contact the Janus core. ">janus_callbacks</a></code> interface is provided to a plugin, together with the path to the configurations files folder, in the <code>init()</code> method. This path can be used to read and parse a configuration file for the plugin: the plugins we made available out of the box use the package name as a name for the file (e.g., <code>janus.plugin.echotest.cfg</code> for the Echo Test plugin), but you're free to use a different one, as long as it doesn't collide with existing ones. Besides, the existing plugins use the same INI format for configuration files the core uses (relying on the <code><a class="el" href="structjanus__config.html" title="Configuration container. ">janus_config</a></code> helpers for the purpose) but again, if you prefer a different format (XML, JSON, etc.) that's up to you.</p>
<p>Both the the Janus core and a plugin can have several different sessions with the same and/or different peers: to match a specific session, a plugin can rely on a mapping called <a class="el" href="structjanus__plugin__session.html" title="Plugin-Gateway session mapping. ">janus_plugin_session</a> that is what all the communication between the plugins and the core (that is, both methods invoked by the core and callbacks invoked by the plugins) will make use of. See the <a class="el" href="janus__videoroom_8c.html" title="Janus VideoRoom plugin. ">janus_videoroom.c</a> plugin for an example of multiple handles associated to the same peer.</p>
<p>All messages/requests/events sent to and received from a plugin are asynchronous, meaning there's no way to immediately reply to a message sent by a browser, for instance. Messages/requests coming from browsers in a <code>handle_message()</code> callback, though, have a transaction identifier, which you can use in a <code>push_event()</code> reply to allow the browser to match it to the original request, if needed.</p>
<p>As anticipated, both <code>handle_message()</code> and <code>push_event()</code> can attach a JSEP/SDP payload. This means that a browser, for instance, can attach a JSEP/SDP offer to negotiate a WebRTC PeerConnection with a plugin: the plugin would then need to provide, immediately or not, a JSEP/SDP answer to do so. At the same time, a plugin may want to originate the call instead: in that case, the plugin would attach a JSEP/SDP offer in a <code>push_event()</code> call, to which the browser would then need to reply with a JSEP/SDP answer, as described in <a class="el" href="JS.html">JavaScript API</a>. Renegotiating a session can be done using the same mechanism above: in case plugins want to force an ICE restart, though, they must add a boolean property called <code>restart</code> to the JSEP object before passing it to the core. Notice that the core adds a property called <code>update</code> whenever the remote user is requesting a renegotiation, whether it's for ICE restarts or just for some media related change. </p><dl class="section note"><dt>Note</dt><dd>It's important to notice that, while the Janus core would indeed take care of the WebRTC PeerConnection setup itself in terms of ICE/DTLS/RT(C)P on your behalf, plugins are what will actually manipulate the media flowing around, and as such it's them who are responsible for what concerns the codec negotiation in a JSEP/SDP offer/answer. This normally is not something you need to worry about, especially if you're just moving SDP around (e.g., <a class="el" href="janus__echotest_8c.html" title="Janus EchoTest plugin. ">janus_echotest.c</a> or <a class="el" href="janus__videocall_8c.html" title="Janus VideoCall plugin. ">janus_videocall.c</a>). If your plugin is going to generate media frames (e.g., as <a class="el" href="janus__audiobridge_8c.html" title="Janus AudioBridge plugin. ">janus_audiobridge.c</a>), you only support some codecs (e.g., Opus in <a class="el" href="janus__audiobridge_8c.html" title="Janus AudioBridge plugin. ">janus_audiobridge.c</a>) or you want to use the same SDP offer for several different sessions (e.g., a webinar), you need to make sure that your offer/answer does not contain anything you don't support. Besides, you also need to make sure that you use SDP-provided information (e.g., payload types, increasing versions in case of renegotiations) coherently.</dd></dl>
<p><a class="el" href="group__pluginapi.html">Plugin API</a> </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ac6a2601ba3907da5f78652dbd7e7b9d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JANUS_PLUGIN_API_VERSION&#160;&#160;&#160;15</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Version of the API, to match the one plugins were compiled against. </p>
<dl class="section note"><dt>Note</dt><dd>This was added in version 0.0.7 of Janus, to address changes to the API that might break existing plugin or the core itself. All plugins MUST implement the get_api_compatibility() method to make this work. Do NOT try to launch a pre 0.0.7 plugin on a &gt;= 0.0.7 Janus instance or it will crash. </dd></dl>

</div>
</div>
<a class="anchor" id="a0db773f59a486ac2151e3068165be121"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JANUS_PLUGIN_INIT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{               \</div><div class="line">                .init = NULL,                                   \</div><div class="line">                .destroy = NULL,                                \</div><div class="line">                .get_api_compatibility = NULL,  \</div><div class="line">                .get_version = NULL,                    \</div><div class="line">                .get_version_string = NULL,             \</div><div class="line">                .get_description = NULL,                \</div><div class="line">                .get_name = NULL,                               \</div><div class="line">                .get_author = NULL,                             \</div><div class="line">                .get_package = NULL,                    \</div><div class="line">                .create_session = NULL,                 \</div><div class="line">                .handle_message = NULL,                 \</div><div class="line">                .handle_admin_message = NULL,   \</div><div class="line">                .setup_media = NULL,                    \</div><div class="line">                .incoming_rtp = NULL,                   \</div><div class="line">                .incoming_rtcp = NULL,                  \</div><div class="line">                .incoming_data = NULL,                  \</div><div class="line">                .data_ready = NULL,                             \</div><div class="line">                .slow_link = NULL,                              \</div><div class="line">                .hangup_media = NULL,                   \</div><div class="line">                .destroy_session = NULL,                \</div><div class="line">                .query_session = NULL,                  \</div><div class="line"><span class="preprocessor">                ## __VA_ARGS__ }</span></div></div><!-- fragment -->
<p>Initialization of all plugin properties to NULL. </p>
<dl class="section note"><dt>Note</dt><dd>This was added in version 0.0.8 of Janus, to address changes to the API that might break existing plugin or the core itself. All plugins MUST add this as the FIRST line when initializing their plugin structure, e.g.:</dd></dl>
<pre class="fragment">static janus_plugin janus_echotest_plugin =
        {
                JANUS_PLUGIN_INIT,

                .init = janus_echotest_init,
                [..]
</pre> 
</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ab677912829fa22c9dcbc481c5d6686f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="structjanus__plugin.html">janus_plugin</a>* create_p(void)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The hook that plugins need to implement to be created from the Janus core. </p>

</div>
</div>
<a class="anchor" id="a74738818975d50c1662d1c2bc2fed3c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structjanus__callbacks.html">janus_callbacks</a> <a class="el" href="structjanus__callbacks.html">janus_callbacks</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callbacks to contact the Janus core. </p>

</div>
</div>
<a class="anchor" id="a0c27e3019d47bb7c02ea862bf1c9d069"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structjanus__plugin.html">janus_plugin</a> <a class="el" href="structjanus__plugin.html">janus_plugin</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The plugin session and callbacks interface. </p>

</div>
</div>
<a class="anchor" id="a025c4e972300c7f371540b8de7cc84c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structjanus__plugin__data.html">janus_plugin_data</a> <a class="el" href="structjanus__plugin__data.html">janus_plugin_data</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Data message exchanged with the core. </p>

</div>
</div>
<a class="anchor" id="a5f376b8e7a8b63d7853619fb037f8ba3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structjanus__plugin__result.html">janus_plugin_result</a> <a class="el" href="structjanus__plugin__result.html">janus_plugin_result</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Result of individual requests passed to plugins. </p>

</div>
</div>
<a class="anchor" id="a04c21f4812a591fe6d43e607e73c2c78"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="plugin_8h.html#a3997c3821757ba9ef65221b73506b379">janus_plugin_result_type</a>  <a class="el" href="plugin_8h.html#a3997c3821757ba9ef65221b73506b379">janus_plugin_result_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Result types. </p>

</div>
</div>
<a class="anchor" id="a46897d1110b98b8ba797f363c0e1aa0b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structjanus__plugin__rtcp.html">janus_plugin_rtcp</a> <a class="el" href="structjanus__plugin__rtcp.html">janus_plugin_rtcp</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>RTCP message exchanged with the core. </p>

</div>
</div>
<a class="anchor" id="ab474c0ee5bd0ea9430093bb78aab6e25"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structjanus__plugin__rtp.html">janus_plugin_rtp</a> <a class="el" href="structjanus__plugin__rtp.html">janus_plugin_rtp</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>RTP packet exchanged with the core. </p>

</div>
</div>
<a class="anchor" id="ac1ebb1c4fb45267db5f3639308889483"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structjanus__plugin__rtp__extensions.html">janus_plugin_rtp_extensions</a> <a class="el" href="structjanus__plugin__rtp__extensions.html">janus_plugin_rtp_extensions</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>RTP extensions parsed in an RTP packet. </p>

</div>
</div>
<a class="anchor" id="a8d389531571f30699087a98ea2c99005"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structjanus__plugin__session.html">janus_plugin_session</a> <a class="el" href="structjanus__plugin__session.html">janus_plugin_session</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Plugin-Gateway session mapping. </p>

</div>
</div>
<a class="anchor" id="a099508f18c5c127f2eb6a967909bf15d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="plugin_8h.html#a099508f18c5c127f2eb6a967909bf15d">json_t</a> <a class="el" href="plugin_8h.html#a099508f18c5c127f2eb6a967909bf15d">json_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a3997c3821757ba9ef65221b73506b379"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="plugin_8h.html#a3997c3821757ba9ef65221b73506b379">janus_plugin_result_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Result types. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a3997c3821757ba9ef65221b73506b379a5d1eb75a934e7e3d798149e61fdade4d"></a>JANUS_PLUGIN_ERROR&#160;</td><td class="fielddoc">
<p>A severe error happened (not an application level error) </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a3997c3821757ba9ef65221b73506b379ace0399106af5c66c55e214cfb5b5fef7"></a>JANUS_PLUGIN_OK&#160;</td><td class="fielddoc">
<p>The request was correctly handled and a response is provided (synchronous) </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a3997c3821757ba9ef65221b73506b379a135fc52313eba9f996e0aae7d811315f"></a>JANUS_PLUGIN_OK_WAIT&#160;</td><td class="fielddoc">
<p>The request was correctly handled and notifications will follow with more info (asynchronous) </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a64b7b99d23d3a160298c15289a240452"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void janus_plugin_data_reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjanus__plugin__data.html">janus_plugin_data</a> *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper method to initialise/reset the data message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">packet</td><td>Pointer to the <a class="el" href="structjanus__plugin__data.html" title="Janus plugin data message. ">janus_plugin_data</a> message to reset </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac21eb77a812c5d21c3a726c80228d8ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void janus_plugin_result_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjanus__plugin__result.html">janus_plugin_result</a> *&#160;</td>
          <td class="paramname"><em>result</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper to quickly destroy a <a class="el" href="structjanus__plugin__result.html" title="Janus plugin result. ">janus_plugin_result</a> instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">result</td><td>The <a class="el" href="structjanus__plugin__result.html" title="Janus plugin result. ">janus_plugin_result</a> instance to destroy </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A valid <a class="el" href="structjanus__plugin__result.html" title="Janus plugin result. ">janus_plugin_result</a> instance, if successful, or NULL otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a67bbe5f789bac9b4d190ad5d85099c44"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structjanus__plugin__result.html">janus_plugin_result</a>* janus_plugin_result_new </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="plugin_8h.html#a3997c3821757ba9ef65221b73506b379">janus_plugin_result_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="plugin_8h.html#a099508f18c5c127f2eb6a967909bf15d">json_t</a> *&#160;</td>
          <td class="paramname"><em>content</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper to quickly create a <a class="el" href="structjanus__plugin__result.html" title="Janus plugin result. ">janus_plugin_result</a> instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>The type of result </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">text</td><td>String to add to the result (for JANUS_PLUGIN_OK_WAIT or JANUS_PLUGIN_ERROR), if any </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">content</td><td>The json_t object with the content of the result, if any </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A valid <a class="el" href="structjanus__plugin__result.html" title="Janus plugin result. ">janus_plugin_result</a> instance, if successful, or NULL otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a9eb0a20643f15c4fb5518149419eb570"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void janus_plugin_rtcp_reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjanus__plugin__rtcp.html">janus_plugin_rtcp</a> *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper method to initialise/reset the RTCP packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">packet</td><td>Pointer to the <a class="el" href="structjanus__plugin__rtcp.html" title="Janus plugin RTCP packet. ">janus_plugin_rtcp</a> packet to reset </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3c6d2db42190ba084af632a1262029e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void janus_plugin_rtp_extensions_reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjanus__plugin__rtp__extensions.html">janus_plugin_rtp_extensions</a> *&#160;</td>
          <td class="paramname"><em>extensions</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper method to initialise/reset the RTP extensions field. </p>
<dl class="section note"><dt>Note</dt><dd>This is important because each of the supported extensions may use a different value to specify an "extension missing" state, which may be different from a 0 or a NULL (e.g., a -1 instead) </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">extensions</td><td>Pointer to the <a class="el" href="structjanus__plugin__rtp__extensions.html" title="Janus plugin RTP extensions. ">janus_plugin_rtp_extensions</a> instance to reset </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a52612a46c528ff1e760b1f0d20509ddc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void janus_plugin_rtp_reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjanus__plugin__rtp.html">janus_plugin_rtp</a> *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper method to initialise/reset the RTP packet. </p>
<dl class="section note"><dt>Note</dt><dd>The main motivation for this method comes from the presence of the extensions as a <a class="el" href="structjanus__plugin__rtp__extensions.html" title="Janus plugin RTP extensions. ">janus_plugin_rtp_extensions</a> instance. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">packet</td><td>Pointer to the <a class="el" href="structjanus__plugin__rtp.html" title="Janus plugin RTP packet. ">janus_plugin_rtp</a> packet to reset </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.18-->
<!-- start footer part -->
<div class="footer container">
<hr class="footer"/>
Last updated on Fri Apr 9 2021 &mdash; Janus WebRTC Server &copy; <a target="_blank" href="http://www.meetecho.com/">Meetecho</a> 2014-2021
</div>
</body>
</html>
