<!-- HTML header for doxygen 1.8.18-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>transport.h File Reference</title>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet">
<link href="css/demo.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="doxy-boot.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<a href="https://github.com/meetecho/janus-gateway"><img style="position: absolute; top: 0; left: 0; border: 0; z-index: 1001;" src="https://s3.amazonaws.com/github/ribbons/forkme_left_darkblue_121621.png" alt="Fork me on GitHub"></a>
<nav class="navbar navbar-default navbar-static-top">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" href=".">Janus</a>
		<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
		</button>
	</div>
	<div class="navbar-collapse collapse">
		<ul class="nav navbar-nav">
			<li><a href="https://janus.conf.meetecho.com/">Home</a></li>
			<li><a href="https://janus.conf.meetecho.com/demos.html">Demos</a></li>
			<li class="active"><a href="index.html">Documentation</a></li>
			<li><a href="https://janus.conf.meetecho.com/citeus.html">Papers</a></li>
			<li><a href="https://janus.conf.meetecho.com/support.html">Need help?</a></li>
			<li><a class="januscon" target="_blank" href="https://januscon.it">JanusCon!</a></li>
		</ul>
		<div class="navbar-header navbar-right">
			<ul class="nav navbar-nav">
				<li><a target="_blank" href="http://www.meetecho.com" class="navbar-link meetecho-logo"><img src="meetecho-logo.png"/></a></li>
			</ul>
		</div>
	</div>
</div>
</nav>
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_6b2d4fd91113d02d401f58b021aa51f6.html">transports</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">transport.h File Reference<div class="ingroups"><a class="el" href="group__transports.html">Transports</a> &raquo; <a class="el" href="group__transportapi.html">Transport API</a><a class="el" href="group__transports.html">Transports</a> &raquo;  &#124; <a class="el" href="group__transportapi.html">Transport API</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Modular Janus API transports.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;ctype.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;inttypes.h&gt;</code><br />
<code>#include &lt;glib.h&gt;</code><br />
<code>#include &lt;jansson.h&gt;</code><br />
<code>#include &quot;<a class="el" href="refcount_8h_source.html">refcount.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for transport.h:</div>
<div class="dyncontent">
<div class="center"><img src="transport_8h__incl.png" border="0" usemap="#transport_8h" alt=""/></div>
<map name="transport_8h" id="transport_8h">
<area shape="rect" id="node11" href="refcount_8h.html" title="Reference counter mechanism. " alt="" coords="394,80,482,107"/>
<area shape="rect" id="node12" href="mutex_8h.html" title="Semaphors, Mutexes and Conditions. " alt="" coords="400,155,476,181"/>
<area shape="rect" id="node15" href="debug_8h.html" title="Logging and Debugging. " alt="" coords="297,229,371,256"/>
<area shape="rect" id="node17" href="log_8h.html" title="Buffered logging (headers) " alt="" coords="297,304,352,331"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="transport_8h__dep__incl.png" border="0" usemap="#transport_8hdep" alt=""/></div>
<map name="transport_8hdep" id="transport_8hdep">
<area shape="rect" id="node2" href="janus_8h.html" title="Janus core (headers) " alt="" coords="119,80,189,107"/>
<area shape="rect" id="node7" href="janus__http_8c.html" title="Janus RESTs transport plugin. " alt="" coords="213,80,314,107"/>
<area shape="rect" id="node8" href="janus__mqtt_8c.html" title="Janus MQTT transport plugin. " alt="" coords="338,80,445,107"/>
<area shape="rect" id="node9" href="janus__nanomsg_8c.html" title="Janus Nanomsg transport plugin. " alt="" coords="469,80,604,107"/>
<area shape="rect" id="node10" href="janus__pfunix_8c.html" title="Janus Unix Sockets transport plugin. " alt="" coords="628,80,744,107"/>
<area shape="rect" id="node11" href="janus__rabbitmq_8c.html" title="Janus RabbitMQ transport plugin. " alt="" coords="768,80,903,107"/>
<area shape="rect" id="node12" href="janus__websockets_8c.html" title="Janus WebSockets transport plugin. " alt="" coords="927,80,1079,107"/>
<area shape="rect" id="node13" href="transport_8c.html" title="transport.c" alt="" coords="1104,80,1196,107"/>
<area shape="rect" id="node3" href="dtls_8c.html" title="DTLS/SRTP processing. " alt="" coords="5,155,63,181"/>
<area shape="rect" id="node4" href="ice_8c.html" title="Janus handles and ICE/STUN/TURN processing. " alt="" coords="87,155,139,181"/>
<area shape="rect" id="node5" href="janus_8c.html" title="Janus core. " alt="" coords="163,155,231,181"/>
<area shape="rect" id="node6" href="sdp_8c.html" title="SDP processing. " alt="" coords="255,155,311,181"/>
</map>
</div>
</div>
<p><a href="transport_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjanus__transport__session.html">janus_transport_session</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transport-Gateway session mapping.  <a href="structjanus__transport__session.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjanus__transport.html">janus_transport</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The transport plugin session and callbacks interface.  <a href="structjanus__transport.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjanus__transport__callbacks.html">janus_transport_callbacks</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callbacks to contact the Janus core.  <a href="structjanus__transport__callbacks.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a4b25b7dd40f2930792654f25941b4d9b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transport_8h.html#a4b25b7dd40f2930792654f25941b4d9b">JANUS_TRANSPORT_API_VERSION</a>&#160;&#160;&#160;8</td></tr>
<tr class="memdesc:a4b25b7dd40f2930792654f25941b4d9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Version of the API, to match the one transport plugins were compiled against.  <a href="#a4b25b7dd40f2930792654f25941b4d9b">More...</a><br /></td></tr>
<tr class="separator:a4b25b7dd40f2930792654f25941b4d9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a934a2281483fe7e3741f344cfe703143"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transport_8h.html#a934a2281483fe7e3741f344cfe703143">JANUS_TRANSPORT_INIT</a>(...)</td></tr>
<tr class="memdesc:a934a2281483fe7e3741f344cfe703143"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialization of all transport plugin properties to NULL.  <a href="#a934a2281483fe7e3741f344cfe703143">More...</a><br /></td></tr>
<tr class="separator:a934a2281483fe7e3741f344cfe703143"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a08ad44d039ab076149405499fb5e1dad"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structjanus__transport__callbacks.html">janus_transport_callbacks</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transport_8h.html#a08ad44d039ab076149405499fb5e1dad">janus_transport_callbacks</a></td></tr>
<tr class="memdesc:a08ad44d039ab076149405499fb5e1dad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callbacks to contact the Janus core.  <a href="#a08ad44d039ab076149405499fb5e1dad">More...</a><br /></td></tr>
<tr class="separator:a08ad44d039ab076149405499fb5e1dad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc82829294af2df2e7715a5365d12aba"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structjanus__transport.html">janus_transport</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transport_8h.html#adc82829294af2df2e7715a5365d12aba">janus_transport</a></td></tr>
<tr class="memdesc:adc82829294af2df2e7715a5365d12aba"><td class="mdescLeft">&#160;</td><td class="mdescRight">The transport plugin session and callbacks interface.  <a href="#adc82829294af2df2e7715a5365d12aba">More...</a><br /></td></tr>
<tr class="separator:adc82829294af2df2e7715a5365d12aba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb60ef006e03999985c6fcaea69afa9a"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structjanus__transport__session.html">janus_transport_session</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transport_8h.html#aeb60ef006e03999985c6fcaea69afa9a">janus_transport_session</a></td></tr>
<tr class="memdesc:aeb60ef006e03999985c6fcaea69afa9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transport-Gateway session mapping.  <a href="#aeb60ef006e03999985c6fcaea69afa9a">More...</a><br /></td></tr>
<tr class="separator:aeb60ef006e03999985c6fcaea69afa9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae377617411d34f533a3e44586b6589fe"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="structjanus__transport.html">janus_transport</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transport_8h.html#ae377617411d34f533a3e44586b6589fe">create_t</a>(void)</td></tr>
<tr class="memdesc:ae377617411d34f533a3e44586b6589fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">The hook that transport plugins need to implement to be created from the Janus core.  <a href="#ae377617411d34f533a3e44586b6589fe">More...</a><br /></td></tr>
<tr class="separator:ae377617411d34f533a3e44586b6589fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4da1a596e142679aa165fbdae7a10afc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structjanus__transport__session.html">janus_transport_session</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transport_8h.html#a4da1a596e142679aa165fbdae7a10afc">janus_transport_session_create</a> (void *transport_p, void(*p_free)(void *))</td></tr>
<tr class="memdesc:a4da1a596e142679aa165fbdae7a10afc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper to create a <a class="el" href="structjanus__transport__session.html" title="Transport-Gateway session mapping. ">janus_transport_session</a> instance.  <a href="#a4da1a596e142679aa165fbdae7a10afc">More...</a><br /></td></tr>
<tr class="separator:a4da1a596e142679aa165fbdae7a10afc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99c4cfe7e5c2db3c33cc3865fa63d406"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="transport_8h.html#a99c4cfe7e5c2db3c33cc3865fa63d406">janus_transport_session_destroy</a> (<a class="el" href="structjanus__transport__session.html">janus_transport_session</a> *session)</td></tr>
<tr class="memdesc:a99c4cfe7e5c2db3c33cc3865fa63d406"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper to mark a <a class="el" href="structjanus__transport__session.html" title="Transport-Gateway session mapping. ">janus_transport_session</a> instance as destroyed.  <a href="#a99c4cfe7e5c2db3c33cc3865fa63d406">More...</a><br /></td></tr>
<tr class="separator:a99c4cfe7e5c2db3c33cc3865fa63d406"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Modular Janus API transports. </p>
<p>Modular Janus API transports (headers)</p>
<dl class="section author"><dt>Author</dt><dd>Lorenzo Miniero <a href="#" onclick="location.href='mai'+'lto:'+'lor'+'en'+'zo@'+'me'+'ete'+'ch'+'o.c'+'om'; return false;">loren<span style="display: none;">.nosp@m.</span>zo@m<span style="display: none;">.nosp@m.</span>eetec<span style="display: none;">.nosp@m.</span>ho.c<span style="display: none;">.nosp@m.</span>om</a> </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>GNU General Public License v3</dd></dl>
<p>This header contains the definition of the callbacks both the gateway and all the transports need too implement to interact with each other. The structures to make the communication possible are defined here as well.</p>
<p><a class="el" href="group__transportapi.html">Transport API</a></p>
<dl class="section author"><dt>Author</dt><dd>Lorenzo Miniero <a href="#" onclick="location.href='mai'+'lto:'+'lor'+'en'+'zo@'+'me'+'ete'+'ch'+'o.c'+'om'; return false;">loren<span style="display: none;">.nosp@m.</span>zo@m<span style="display: none;">.nosp@m.</span>eetec<span style="display: none;">.nosp@m.</span>ho.c<span style="display: none;">.nosp@m.</span>om</a> </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>GNU General Public License v3</dd></dl>
<p>This header contains the definition of the callbacks both the Janus core and all the transports need to implement to interact with each other. The structures to make the communication possible are defined here as well.</p>
<p>In particular, the Janus core implements the <code><a class="el" href="structjanus__transport__callbacks.html" title="Callbacks to contact the Janus core. ">janus_transport_callbacks</a></code> interface. This means that, as a transport plugin, you can use the methods it exposes to contact the core, e.g., in order to notify an incoming message. In particular, the methods the core exposes to transport plugins are:</p>
<ul>
<li><code>incoming_request()</code>: to notify an incoming JSON message/event from one of the transport clients.</li>
</ul>
<p>On the other hand, a transport plugin that wants to register at the Janus core needs to implement the <code><a class="el" href="structjanus__transport.html" title="The transport plugin session and callbacks interface. ">janus_transport</a></code> interface. Besides, as a transport plugin is a shared object, and as such external to the core itself, in order to be dynamically loaded at startup it needs to implement the <code><a class="el" href="transport_8h.html#ae377617411d34f533a3e44586b6589fe" title="The hook that transport plugins need to implement to be created from the Janus core. ">create_t()</a></code> hook as well, that should return a pointer to the plugin instance. This is an example of such a step:</p>
<pre class="fragment">static janus_transport mytransport = {
        [..]
};

janus_transport *create(void) {
        JANUS_LOG(LOG_VERB, , "%s created!\n", MY_TRANSPORT_NAME);
        return &amp;mytransport;
}
</pre><p>This will make sure that your transport plugin is loaded at startup by the Janus core, if it is deployed in the proper folder.</p>
<p>As anticipated and described in the above example, a transport plugin must basically be an instance of the <code><a class="el" href="structjanus__transport.html" title="The transport plugin session and callbacks interface. ">janus_transport</a></code> type. As such, it must implement the following methods and callbacks for the core:</p>
<ul>
<li><code>init()</code>: this is called by the Janus core as soon as your transport plugin is started; this is where you should setup your transport plugin (e.g., static stuff and reading the configuration file);</li>
<li><code>destroy()</code>: on the other hand, this is called by the core when it is shutting down, and your transport plugin should too;</li>
<li><code>get_api_compatibility()</code>: this method MUST return JANUS_TRANSPORT_API_VERSION;</li>
<li><code>get_version()</code>: this method should return a numeric version identifier (e.g., 3);</li>
<li><code>get_version_string()</code>: this method should return a verbose version identifier (e.g., "v1.0.1");</li>
<li><code>get_description()</code>: this method should return a verbose description of your transport plugin (e.g., "This is my avian carrier transport plugin for the Janus API");</li>
<li><code>get_name()</code>: this method should return a short display name for your transport plugin (e.g., "My Amazing Transport");</li>
<li><code>get_package()</code>: this method should return a unique package identifier for your transport plugin (e.g., "janus.transport.mytransport");</li>
<li><code>is_janus_api_enabled()</code>: this method should return TRUE if Janus API can be used with this transport, and support has been enabled by the user;</li>
<li><code>is_admin_api_enabled()</code>: this method should return TRUE if Admin API can be used with this transport, and support has been enabled by the user;</li>
<li><code>send_message()</code>: this method asks the transport to send a message (be it a response or an event) to a client on the specified transport;</li>
<li><code>session_created()</code>: this method notifies the transport that a Janus session has been created by one of its requests;</li>
<li><code>session_over()</code>: this method notifies the transport that one of its Janus sessionss is now over, whether because of a timeout or not.</li>
<li><code>session_claimed()</code>: this method notifies the transport that it has claimed a session.</li>
</ul>
<p>All the above methods and callbacks are mandatory: the Janus core will reject a transport plugin that doesn't implement any of the mandatory callbacks.</p>
<p>The Janus core <code><a class="el" href="structjanus__transport__callbacks.html" title="Callbacks to contact the Janus core. ">janus_transport_callbacks</a></code> interface is provided to a transport plugin, together with the path to the configurations files folder, in the <code>init()</code> method. This path can be used to read and parse a configuration file for the transport plugin: the transport plugins we made available out of the box use the package name as a name for the file (e.g., <code>janus.transport.http.cfg</code> for the HTTP/HTTPS transport plugin), but you're free to use a different one, as long as it doesn't collide with existing ones. Besides, the existing transport plugins use the same INI format for configuration files the core uses (relying on the <code><a class="el" href="structjanus__config.html" title="Configuration container. ">janus_config</a></code> helpers for the purpose) but again, if you prefer a different format (XML, JSON, etc.) that's up to you.</p>
<p><a class="el" href="group__transportapi.html">Transport API</a> </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a4b25b7dd40f2930792654f25941b4d9b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JANUS_TRANSPORT_API_VERSION&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Version of the API, to match the one transport plugins were compiled against. </p>

</div>
</div>
<a class="anchor" id="a934a2281483fe7e3741f344cfe703143"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JANUS_TRANSPORT_INIT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{               \</div><div class="line">                .init = NULL,                                   \</div><div class="line">                .destroy = NULL,                                \</div><div class="line">                .get_api_compatibility = NULL,  \</div><div class="line">                .get_version = NULL,                    \</div><div class="line">                .get_version_string = NULL,             \</div><div class="line">                .get_description = NULL,                \</div><div class="line">                .get_name = NULL,                               \</div><div class="line">                .get_author = NULL,                             \</div><div class="line">                .get_package = NULL,                    \</div><div class="line">                .is_janus_api_enabled = NULL,   \</div><div class="line">                .is_admin_api_enabled = NULL,   \</div><div class="line">                .send_message = NULL,                   \</div><div class="line">                .session_created = NULL,                \</div><div class="line">                .session_over = NULL,                   \</div><div class="line">                .session_claimed = NULL,                \</div><div class="line">                .query_transport = NULL,                \</div><div class="line"><span class="preprocessor">                ## __VA_ARGS__ }</span></div></div><!-- fragment -->
<p>Initialization of all transport plugin properties to NULL. </p>
<dl class="section note"><dt>Note</dt><dd>All transport plugins MUST add this as the FIRST line when initializing their transport plugin structure, e.g.:</dd></dl>
<pre class="fragment">static janus_transport janus_http_transport_plugin =
        {
                JANUS_TRANSPORT_INIT,

                .init = janus_http_init,
                [..]
</pre> 
</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ae377617411d34f533a3e44586b6589fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="structjanus__transport.html">janus_transport</a>* create_t(void)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The hook that transport plugins need to implement to be created from the Janus core. </p>

</div>
</div>
<a class="anchor" id="adc82829294af2df2e7715a5365d12aba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structjanus__transport.html">janus_transport</a> <a class="el" href="structjanus__transport.html">janus_transport</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The transport plugin session and callbacks interface. </p>

</div>
</div>
<a class="anchor" id="a08ad44d039ab076149405499fb5e1dad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structjanus__transport__callbacks.html">janus_transport_callbacks</a> <a class="el" href="structjanus__transport__callbacks.html">janus_transport_callbacks</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callbacks to contact the Janus core. </p>

</div>
</div>
<a class="anchor" id="aeb60ef006e03999985c6fcaea69afa9a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structjanus__transport__session.html">janus_transport_session</a> <a class="el" href="structjanus__transport__session.html">janus_transport_session</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transport-Gateway session mapping. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a4da1a596e142679aa165fbdae7a10afc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structjanus__transport__session.html">janus_transport_session</a>* janus_transport_session_create </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>transport_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *)&#160;</td>
          <td class="paramname"><em>p_free</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper to create a <a class="el" href="structjanus__transport__session.html" title="Transport-Gateway session mapping. ">janus_transport_session</a> instance. </p>
<dl class="section note"><dt>Note</dt><dd>This helper automatically initializes the reference counter </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transport_p</td><td>Pointer to the transport-side session instance (won't be touched by the core) </td></tr>
    <tr><td class="paramname">p_free</td><td>Pointer to the transport-provided function, if needed, that will be used to free the opaque transport-side session instance (won't be touched by the core) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to a valid <a class="el" href="structjanus__transport__session.html" title="Transport-Gateway session mapping. ">janus_transport_session</a>, if successful, NULL otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a99c4cfe7e5c2db3c33cc3865fa63d406"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void janus_transport_session_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjanus__transport__session.html">janus_transport_session</a> *&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper to mark a <a class="el" href="structjanus__transport__session.html" title="Transport-Gateway session mapping. ">janus_transport_session</a> instance as destroyed. </p>
<dl class="section note"><dt>Note</dt><dd>Only use this helper when that specific transport session must not be used by the core anymore: e.g., a WebSocket connection was closed, an HTTP connection associated with a pending request was lost, etc. Remember to decrease the counter in case you increased it in other methods (this method does this automatically as far as the create was concerned). </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>Pointer to the <a class="el" href="structjanus__transport__session.html" title="Transport-Gateway session mapping. ">janus_transport_session</a> instance </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.18-->
<!-- start footer part -->
<div class="footer container">
<hr class="footer"/>
Last updated on Fri Apr 9 2021 &mdash; Janus WebRTC Server &copy; <a target="_blank" href="http://www.meetecho.com/">Meetecho</a> 2014-2021
</div>
</body>
</html>
